<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>vscode set own code snippets/code template -
    Wherelse Blog</title>
<meta name="ThemeName" content="Gridea Theme Rocky by EryouHao" />
<meta name="referrer" content="always" />
<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg">
<link rel="manifest" href="/site.webmanifest">
<!-- <link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet preload" as="style"> -->
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"> -->
<!-- <link rel="stylesheet" href="https://cdn.staticfile.org/animate.css/3.7.2/animate.min.css" as="style" /> -->
<link href="/media/css/remixicon.css" rel="stylesheet" as="style">
<link rel="stylesheet" href="/media/css/tailwind.css">
<link rel="stylesheet" href="/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="vscode set own code snippets/code template -
    Wherelse Blog - Atom Feed" href="/atom.xml">

  
  <script defer src="https://www.googletagmanager.com/gtag/js?id=G-4449R7TQN5"></script>
  <script>
  var host = window.location.hostname;
  if(host != "localhost")
  {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-4449R7TQN5');
  }
  </script>
    

  <!-- <title name="vscode set own code snippets/code template"> </title> -->
  <meta name="socialText" content="è®°å½•å­¦ä¹ ä¸æŠ˜è…¾ï¼Œç½‘ç»œï¼Œåšå®¢ï¼ŒåµŒå…¥å¼ç›¸å…³ï¼›Record learning and toss, network, blog, embedded related" />
  <meta name="description" content="Usage effect
VSCode supports rich customization features, many of which are customizable. Using custom code snippets can..." />
  <meta name="referrer" content="always" />
  <link rel="canonical" href="https://wherelse.cc/post/vscode-set-own-code-snippets-code-template/" />
  <link rel="preconnect" href="https://cdn.staticfile.org" />
  <script src="https://wherelse.cc/media/scripts/photoswipe.min.js"></script>
  <script src="https://wherelse.cc/media/scripts/photoswipe-ui-default.min.js"></script>
  <link rel="stylesheet" href="https://wherelse.cc/media/css/photoswipe.css" as="style" />
  <link rel="stylesheet" href="https://wherelse.cc/media/css/default-skin.css" as="style" />
  <!-- Code Highlight -->
  
  <script src="https://wherelse.cc/media/prism.js"></script>
  <script>
    Prism.highlightAll();
  </script>
  
  
  <link rel="stylesheet preload"
    href="https://wherelse.cc/media/css/prism-github.css"
    as="style" />
  
</head>

<body>
  <div class="antialiased flex flex-col min-h-screen" id="app">
    <a href="https://wherelse.cc"
      class="fixed top-0 left-0 mt-4 bg-black text-white dark:text-gray-700 dark:bg-yellow-50 dark:hover:bg-black dark:hover:text-white inline-flex p-2 pl-8 hover:text-gray-700 hover:bg-yellow-50 font-bold z-10 transition-fast animated fadeInLeft">
      Wherelse Blog
    </a>
    <div class="max-w-4xl w-full mx-auto">
      <div
        class="shadow-box bg-white dark:bg-gray-600 rounded-lg pt-32 md:pt-32 px-4 md:px-8 pb-8 animated fadeIn mb-8">
        <h1 class="text-5xl font-semibold leading-normal pb-8 mb-8 border-b-8 border-gray-700">
          vscode set own code snippets/code template
        </h1>
        
        <div class="mb-8 flex flex-wrap">
          <div class="text-gray-400 text-sm mr-4">
            2021-06-10 Â· 6 min read
          </div>
          
          <a href="https://wherelse.cc/tag/R-Cshqek2/"
            class="text-gray-700 text-sm border-b-2 border-dotted border-gray-200 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
            <i class="ri-hashtag"></i>
            VSCode
          </a>
          
          <a href="https://wherelse.cc/tag/-AWGj9akS/"
            class="text-gray-700 text-sm border-b-2 border-dotted border-gray-200 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
            <i class="ri-hashtag"></i>
            ç¼–ç¨‹
          </a>
          
        </div>
        <div class="markdown mb-16" v-pre>
          <h2 id="usage-effect">Usage effect</h2>
<p>VSCode supports rich customization features, many of which are customizable. Using custom code snippets can speed up our programming, reduce some unnecessary repetitive work, or guide us to develop good programming habits. The following figure shows the use of code snippets to add function comments and automatically generate the writing time.<br>
<img src="https://wherelse.cc/post-images/1623224543605.gif" alt="" width="800" loading="lazy"><br>
With the code snippet, you can quickly add comments in the specified format and automatically jump to the place where you need to fill in the content by calling the location index with the TAB key. Or the following case to quickly populate the code template in the same format.<br>
<img src="https://wherelse.cc/post-images/1623327522456.gif" alt="" width="800" loading="lazy"></p>
<h2 id="create-method">Create method</h2>
<p><strong>File-&gt;Preferences-&gt;User Code Snippet</strong>, here you can choose to create a new global code snippet or a code snippet that works for a particular language.<br>
<img src="https://wherelse.cc/post-images/1623223560175.gif" alt="" width="800" loading="lazy"></p>
<h2 id="basic-syntax">Basic syntax</h2>
<p><img src="https://wherelse.cc/post-images/1623240868586.png" alt="" width="800" loading="lazy"><br>
The basic syntax of the code snippet is consistent with JSON with the following keywords.<br>
<code>snippet name</code> is the name of the code snippet. If there is no description, it will appear in the list of smart suggestions.<br>
<code>prefix</code> defines the trigger text of the code fragment. It can be a string or an array of strings (if you want to have multiple trigger texts). Prefixed substrings can also be triggered.<br>
<code>body</code> represents the content to be inserted into the editor. It is an array of strings, possibly one or more lines, and this part is the main content of the template.<br>
The <code>description</code> attribute provides a more detailed description of the code snippet.<br>
The <code>scope</code> attribute allows you to specify a specific language type, and you can use commas to split multiple languages.</p>
<h2 id="tab-position-index">TAB position index</h2>
<p>Use <code>$1</code>, <code>$2</code>, <code>$3</code>, --- and so on to control the jump position index of the TAB. <code>$0</code> is the last jump position, and you can use tab to control the jump position after the code snippet is generated.</p>
<h2 id="placeholder">Placeholder</h2>
<p>Placeholders are TAB position indexes that have default values. They are usually wrapped in curly brackets, like <code>${1:default}</code>. The contents of the placeholders are selected by default, so they can be easily modified. Placeholders support nesting, like this <code>${1:first ${2:second}}</code>.</p>
<h2 id="dropdown-checkboxes">Dropdown checkboxes</h2>
<p>Placeholders can generate multiple content-selected checkboxes. The syntax is a comma-separated enumeration of values enclosed by the <code>|</code> character, like this <code>${1|one,two,three|}</code>. When a fragment is inserted and a placeholder is selected, the user is prompted to select one of the values.</p>
<h2 id="commonly-used-interchangeable-variables">Commonly used interchangeable variables</h2>
<p>These interchangeable variables are used by prefixing <code>$</code> with</p>
<p>TM_SELECTED_TEXT: The currently selected text or empty string,<br>
TM_CURRENT_LINE: The text of the current line,<br>
TM_CURRENT_WORD: the word or empty string under the cursor,<br>
TM_LINE_INDEX: The current line number with 0 as the first line,<br>
TM_LINE_NUMBER: the current line number of the first line with 1,<br>
TM_FILENAME: the name of the current file,<br>
TM_FILENAME_BASE: the file name of the current document, without extension,<br>
TM_DIRECTORY: the folder where the current document is located,<br>
TM_FILEPATH: the absolute path of the current file,<br>
CLIPBOARD: the content of the current clipboard,<br>
WORKSPACE_NAME: the name of the currently open workspace or folder.</p>
<p>Here are some time-related variables:<br>
CURRENT_YEAR: The current year,<br>
CURRENT_YEAR_SHORT: abbreviation for the current year, i.e. the last two digits,<br>
CURRENT_MONTH: The current month, in two digits (e.g. '07'),<br>
CURRENT_MONTH_NAME: The name of the current month (e.g. 'July'),<br>
CURRENT_MONTH_NAME_SHORT: abbreviation of the current month name (e.g. 'Jul'),<br>
CURRENT_DATE: The date in the current month,<br>
CURRENT_DAY_NAME: The name of the current date (e.g. 'Monday'),<br>
CURRENT_DAY_NAME_SHORT: The abbreviation of the current date (e.g. 'Mon'),<br>
CURRENT_HOUR: The current time (in hours) in a 24-hour format,<br>
CURRENT_MINUTE: The current number of minutes,<br>
CURRENT_SECOND: the current number of seconds,<br>
CURRENT_SECONDS_UNIX: the number of seconds (timestamp) from UNIX.</p>
<p>Here are some variables for random numbers.<br>
RANDOM: 6 random base-10 digits<br>
RANDOM_HEX: 6 random Base-16 digits<br>
UUID: A Version 4 UUID</p>
<p>Here are some variables for comments, which may appear as different strings in different languages:<br>
BLOCK_COMMENT_START: For example, <code>&lt;! --' in HTML, </code>/* <code>in C BLOCK_COMMENT_END: for example,</code>--&gt;<code>in HTML,</code>*/<code>in C LINE_COMMENT: For example ,</code> // in JavaScript. `</p>
<h2 id="example-of-my-code-snippet">Example of my code snippet</h2>
<pre><code class="language-json">{
    // code comment template
	&quot;function-comment&quot;:{
		&quot;scope&quot;: &quot;c,verilog&quot;,
		&quot;prefix&quot;: &quot;funcomment&quot;,
		&quot;body&quot;: [
			&quot;$BLOCK_COMMENT_START*&quot;,
			&quot;*@ name:\t${1: }&quot;,
			&quot;*@ usage:\t${2: }&quot;,
			&quot;*@ input:\t${3: }&quot;,
			&quot;*@ output:\t${4: }&quot;,
			&quot;*@ author:\t${5: }&quot;,
			&quot;*@ time:\t$CURRENT_YEAR/$CURRENT_MONTH/$CURRENT_DATE $CURRENT_HOUR:$CURRENT_MINUTE&quot;,
			&quot;$BLOCK_COMMENT_END&quot;,
			&quot;$0&quot;
		]
	}
}
</code></pre>
<pre><code class="language-json">	&quot;module&quot;: {
        //verilog module template
		&quot;scope&quot;: &quot;verilog&quot;,
		&quot;prefix&quot;: &quot;mod&quot;,
		&quot;body&quot;: [
			&quot;//module name:${1:module_name}&quot;,
			&quot;//module usage: ${2: }&quot;,
			&quot;//author: &quot;,
			&quot;//time: $CURRENT_YEAR/$CURRENT_MONTH/$CURRENT_DATE $CURRENT_HOUR:$CURRENT_MINUTE&quot;,
			&quot;&quot;,
			&quot;&quot;,
			&quot;module ${1:module_name}(&quot;,
			&quot;input\t\t\t\t${3:clock},\t//system clock&quot;,
			&quot;input\t\t\t\t${4:reset},\t/system reset&quot;,
			&quot;input\t\t\t[${5: }:0]\t${6:input_sign1},&quot;,
			&quot;input\t\t[${7: }:0]\t${8:input_sign2},&quot;,
			&quot;\t\t&quot;,
			&quot;output\treg\t[${9: }:0]\t${10:output_sign1},&quot;,
			&quot;output\t\t[${11: }:0]\t${12:output_sign2}&quot;,
			&quot;);&quot;,
			&quot;\n${0}\n&quot;,
			&quot;endmodule&quot;
		],
		&quot;description&quot;: &quot;verilog module generate&quot;
	},
</code></pre>
<blockquote>
<p><a href="https://code.visualstudio.com/docs/editor/userdefinedsnippets">Snippets in Visual Studio Code</a><br>
<a href="https://chinese.freecodecamp.org/news/definitive-guide-to-snippets-visual-studio-code/">Complete Getting Started Guide to VS Code Code Snippets</a></p>
</blockquote>

        </div>

        <!-- copyright -->
        <div class="copyright">
          <div class="container">
            <p><small class="text-gray-400">
                The copyright of the articles on this website is owned by me. Without consent, it is not allowed to copy without permission. Reasonable reprints are welcome to indicate the source of the quotation. Please leave a message for reprinting pictures. The content of the article is only used for technical research and exploration, and shall not be used for illegal purposes.
             </small></p>
          </div>
        </div>

        <div class="text-center text-gray-300">
          
          <span id="/post/vscode-set-own-code-snippets-code-template/" class="leancloud_visitors views-counter meta-info">
            <a class="text-center">ğŸ“‹é˜…è¯»é‡:</a>
            <span id="twikoo_visitors">0</span>
          </span>
          
        </div>
      </div>

      

      
        <button type="button" class="collapsible">
          <i class="ri-message-2-line"></i>
        </button>
        <div class="tcomment rounded-lg px-4 py-4">
          <div id="tcomment"></div>
        </div>  
      

      <footer class="py-12 text-center px-4 md:px-0" v-pre>
  <a href="/atom.xml" target="_blank">RSS
</a> | Powered by <a href="https://github.com/getgridea/gridea" 
target="_blank">Gridea</a> &nbsp;&nbsp;
<br>
Â©2020 Wherelse All Right Reserved 
</footer>

    </div>


    <!-- TOC Container -->
    <div id="toc"
      class="fixed right-0 bottom-0 mb-20 mr-6 shadow w-12 h-12 rounded-lg flex justify-center items-center z-10 cursor-pointer bg-white dark:bg-gray-500 dark:text-gray-200 hover:shadow-lg transition-all animated fadeInRight"
      @click="showToc = true">
      <i class="ri-menu-line font-bold"></i>
    </div>

    <div
      class="fixed right-0 top-0 bottom-0 overflow-y-auto w-64 rounded-lg p-4 m-4  shadow-md bg-white dark:bg-gray-800 p-4 border-l border-gray-100 dark:border-gray-600 z-10 transition-fast"
      :class="{ '-mr-64': !showToc }">
      <div class="flex mb-4 justify-end">
        <div
          class="w-8 h-8 inline-flex justify-center items-center rounded-full cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-fast"
          @click="showToc = false">
          <i class="ri-close-circle-fill"></i>
        </div>
      </div>
      <div class="post-toc-container"><ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#usage-effect">Usage effect</a></li>
<li><a href="#create-method">Create method</a></li>
<li><a href="#basic-syntax">Basic syntax</a></li>
<li><a href="#tab-position-index">TAB position index</a></li>
<li><a href="#placeholder">Placeholder</a></li>
<li><a href="#dropdown-checkboxes">Dropdown checkboxes</a></li>
<li><a href="#commonly-used-interchangeable-variables">Commonly used interchangeable variables</a></li>
<li><a href="#example-of-my-code-snippet">Example of my code snippet</a></li>
</ul>
</li>
</ul>
</div>
    </div>

    <!-- Back to top -->
    <div
      class="fixed right-0 bottom-0 mb-4 mr-6 shadow w-12 h-12 rounded-lg flex justify-center items-center z-10 cursor-pointer bg-white hover:shadow-lg transition-all dark:bg-gray-500 dark:text-gray-200"
      @click="backToUp" v-show="scrolled">
      <i class="ri-arrow-up-circle-fill"></i>
    </div>
  </div>

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg">
  </div>
  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
    <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
    </div>
    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter">
        </div>
        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
        <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip">
        </div>
      </div>
      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
      </button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
      </button>
      <div class="pswp__caption">
        <div class="pswp__caption__center">
        </div>
      </div>
    </div>
  </div>
</div>

  <!-- <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>-->
  <script src="https://wherelse.cc/media/scripts/vue.min.js"></script>
  <script src="https://wherelse.cc/media/scripts/main.js"></script>

  <!--æ ¹æ®å†…å®¹åŠ¨æ€åŠ è½½-->
  <script type="text/javascript">
    window.onload = function () {
      //æ ¹æ®å†…å®¹åŠ¨æ€åŠ è½½mermiad
      if (document.getElementsByClassName("language-mermaid").length != 0) {
        console.log("find mermaid")
        for (let x of document.getElementsByClassName("language-mermaid")) {
          if (x.nodeName == "CODE") {
            let m = document.createElement("div");
            m.classList.add("mermaid");
            m.textContent = x.textContent;
            x.parentNode.insertAdjacentElement("beforebegin", m);
          }
        }
        let script = document.createElement('script');
        defer = "defer";
        script.src =
          "https://wherelse.cc/media/scripts/mermaid.min.js";
        document.body.append(script);
        script.onload = function () {
          mermaid.initialize({
            startOnLoad: false
          });
          mermaid.init();
          console.log("mermaid init done");
        }
      }

      //bilibili è§†é¢‘æ”¯æŒ
      var content = document.getElementsByClassName("language-bilibili")[0];
      if (content != null) {
        var m = document.createElement("div");
        m.classList.add("bilibili-video");
        m.innerHTML = content.textContent;
        content.parentNode.insertAdjacentElement("beforeend", m);
      }
      //katexè‡ªé€‚åº”åŠ è½½
      if (document.getElementsByClassName("katex").length != 0) {
        let script = document.createElement('script');
        script.defer = "defer"
        script.src =
          "https://wherelse.cc/media/scripts/katex.min.js";
        document.body.append(script);
        script = document.createElement('script');
        script.defer = "defer"
        script.src =
          "https://wherelse.cc/media/scripts/copy-tex.min.js";
        document.body.append(script);
        let link = document.createElement('link');
        link.rel = 'stylesheet';
        link.defer = "defer"
        link.href =
          "https://wherelse.cc/media/css/katex.min.css";
        document.body.append(link);
        link = document.createElement('link');
        link.rel = 'stylesheet';
        link.defer = "defer"
        link.href =
          "https://wherelse.cc/media/css/copy-tex.css";
        document.body.append(link);
      }

      script = document.createElement('script');
      script.defer = "defer"
      script.src =
        "https://cdn.staticfile.org/twikoo/1.6.7/twikoo.all.min.js";
      document.body.append(script);
      script.onload = function () {
        let scripts = document.createElement('script');
        scripts.append(document.createTextNode(
          " twikoo.init({envId: \"https://twikoo.vlieo.com\",el: \"#tcomment\",});"));
        var parentDiv = document.getElementById("toc").parentNode;
        var sp = document.getElementById("toc");
        parentDiv.insertBefore(scripts, sp);
      }
    }
  </script>
  <script>
    comment_collapse();
  </script>

 <script>
    //æ‹¿åˆ°é¢„è§ˆæ¡†æ¶ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„htmlä»£ç 
    var pswpElement = document.querySelectorAll(".pswp")[0];
    //å®šä¹‰å›¾ç‰‡æ•°ç»„å˜é‡
    var imgitems;
    /**
     * ç”¨äºæ˜¾ç¤ºé¢„è§ˆç•Œé¢
     * @param index å›¾ç‰‡æ•°ç»„ä¸‹æ ‡
     */
    function viewImg(index) {
      //å…¶å®ƒé€‰é¡¹è¿™é‡Œä¸åšè¿‡å¤šé˜è¿°ï¼Œè¯¦æƒ…è§å®˜ç½‘
      var pswpoptions = {
        index: parseInt(index, 10), // å¼€å§‹å¹»ç¯ç‰‡ç´¢å¼•ã€‚0æ˜¯ç¬¬ä¸€å¼ å¹»ç¯ç‰‡ã€‚å¿…é¡»æ˜¯æ•´æ•°ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ã€‚
        bgOpacity: 0.7, // èƒŒæ™¯é€æ˜åº¦ï¼Œ0-1
        maxSpreadZoom: 3, // ç¼©æ”¾çº§åˆ«ï¼Œä¸è¦å¤ªå¤§
      };
      //åˆå§‹åŒ–å¹¶æ‰“å¼€PhotoSwipeï¼ŒpswpElementå¯¹åº”ä¸Šé¢é¢„è§ˆæ¡†æ¶ï¼ŒPhotoSwipeUI_Defaultä¸ºçš®è‚¤ï¼Œimgitemsä¸ºå›¾ç‰‡æ•°ç»„ï¼Œpswpoptionsä¸ºé€‰é¡¹
      var gallery = new PhotoSwipe(
        pswpElement,
        PhotoSwipeUI_Default,
        imgitems,
        pswpoptions
      );
      gallery.init();
    }
    /**
     * ç”¨äºæ·»åŠ å›¾ç‰‡ç‚¹å‡»äº‹ä»¶
     * @param img å›¾ç‰‡å…ƒç´ 
     * @param index æ‰€å±ä¸‹æ ‡ï¼ˆåœ¨imgitemsä¸­çš„ä½ç½®ï¼‰
     */
    function addImgClick(img, index) {
      img.onclick = function () {
        viewImg(index);
      };
    }
    /**
     * è½®è¯¢æ‰€æœ‰å›¾ç‰‡ï¼Œè·å–srcã€widthã€heightç­‰æ•°æ®ï¼ŒåŠ å…¥imgitemsï¼Œå¹¶ç»™å›¾ç‰‡å…ƒç´ æ·»åŠ äº‹ä»¶
     * æœ€å¥½åœ¨onloadä¸­æ‰§è¡Œè¯¥æ–¹æ³•ï¼Œæœ¬ç«™å› æ”¾åœ¨æœ€åº•éƒ¨ï¼Œæ‰€ä»¥ç›´æ¥åˆå§‹åŒ–
     * å¼‚æ­¥åŠ è½½å›¾ç‰‡å¯åœ¨å›¾ç‰‡å…ƒç´ åˆ›å»ºå®Œæˆåè°ƒç”¨æ­¤æ–¹æ³•
     */
    function initImg() {
      //é‡ç½®å›¾ç‰‡æ•°ç»„
      imgitems = [];
      //æŸ¥æ‰¾class:markdown ä¸‹çš„æ‰€æœ‰imgå…ƒç´ å¹¶éå†
      var imgs = document.querySelectorAll(".markdown img");
      for (var i = 0; i < imgs.length; i++) {
        var img = imgs[i];
        //æœ¬ç«™ç›¸å†Œåˆå§‹ä¸ºloadingå›¾ç‰‡ï¼ŒçœŸå®å›¾ç‰‡æ”¾åœ¨data-src
        var ds = img.getAttribute("src");
        //åˆ›å»ºimageå¯¹è±¡ï¼Œç”¨äºè·å–å›¾ç‰‡å®½é«˜
        var imgtemp = new Image();
        //åˆ¤æ–­æ˜¯å¦å­˜åœ¨data-src
        if (ds != null && ds.length > 0) {
          imgtemp.src = ds;
        } else {
          imgtemp.src = img.src;
        }
        //åˆ¤æ–­æ˜¯å¦å­˜åœ¨ç¼“å­˜
        if (imgtemp.complete) {
          var imgobj = {
            src: imgtemp.src,
            w: imgtemp.width,
            h: imgtemp.height,
          };
          imgitems[i] = imgobj;
          addImgClick(img, i);
        } else {
          // console.log("è¿›æ¥äº†2");
          imgtemp.index = i;
          imgtemp.img = img;
          imgtemp.onload = function () {
            var imgobj = {
              src: this.src,
              w: this.width,
              h: this.height,
            };
            //ä¸è¦ä½¿ç”¨pushï¼Œå› ä¸ºonloadå‰åé¡ºåºä¼šä¸åŒ
            imgitems[this.index] = imgobj;
            //æ·»åŠ ç‚¹å‡»äº‹ä»¶
            addImgClick(this.img, this.index);
          };
        }
      }
    }
    //åˆå§‹åŒ–
    initImg();
  </script>
</body>

</html>